<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stock Data Visualizer</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
</head>

<body class="bg-light">
  <div class="container py-4">

    <h1 class="mb-3">Stock Data Visualizer</h1>
    <p class="text-muted">Select your stock and options below:</p>

    <form method="POST">
      <div class="row g-3">

        <!-- Stock Symbol Input -->
        <div class="col-md-4">
<label class="form-label">Stock Symbol</label>
  <select name="symbol" class="form-select" required>
    <option value="">-- Select a Symbol --</option>
    {% for sym in symbols %}
      <option value="{{ sym }}"
              {% if form_data.symbol == sym %}selected{% endif %}>
        {{ sym }}
      </option>
    {% endfor %}
  </select>
</div>


        <!-- Chart Type -->
        <div class="col-md-4">
          <label class="form-label">Chart Type</label>
          <select name="chart_type" class="form-select" required>
            <option value="1">Bar Chart</option>
            <option value="2">Line Chart</option>
          </select>
        </div>

        <!-- Time Series -->
        <div class="col-md-4">
          <label class="form-label">Time Series</label>
          <select name="series_type" class="form-select" required>
            <option value="1">Intraday</option>
            <option value="2">Daily</option>
            <option value="3">Weekly</option>
            <option value="4">Monthly</option>
          </select>
        </div>
      </div>

      <div class="row g-3 mt-2">
        <div class="col-md-6">
          <label class="form-label">Start Date</label>
          <input type="date" name="start_date" class="form-control" required>
        </div>
        <div class="col-md-6">
          <label class="form-label">End Date</label>
          <input type="date" name="end_date" class="form-control" required>
        </div>
      </div>

      <button type="submit" class="btn btn-primary mt-3">
        Generate Chart
      </button>
    </form>

    <div class="mt-5">
      {% if chart_data_uri %}
        <h3>Chart Result:</h3>
        <object type="image/svg+xml" data="{{ chart_data_uri }}"
                style="width: 100%; height: 70vh;"></object>
      {% endif %}
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
